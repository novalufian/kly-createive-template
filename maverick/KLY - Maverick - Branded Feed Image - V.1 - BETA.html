<link
href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Nunito+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Red+Hat+Display:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" rel="stylesheet" />
<link href="https://cdns.klimg.com/d.kapanlaginetwork.com/banner/asset/maverick/main.min.css" rel="stylesheet">
<link href="https://cdns.klimg.com/d.kapanlaginetwork.com/banner/asset/maverick/color.min.css" rel="stylesheet">

<main class="main relative max-w-screen-md mx-auto h-full overflow-hidden" data-sound="true">
    <!-- snap -->
    <div class="main-body relative overflow-y-auto flex flex-col w-full h-full snap-y snap-mandatory scroll-smooth"
    data-scroller>

    <section class="section snap-always snap-start w-full h-full flex flex-col shrink-0 transition bg-dark-0 text-white is-visible" data-theme="ads">
        <div class="section-body relative overflow-hidden flex-1 container max-w-full">

            <figure class="article-asset relative w-full h-screen object-cover bg-cover bg-center bg-no-repeat z-0">
                <img class="w-full h-screen object-cover" src="[%dfp_main_image%]">
            </figure>

        <article class="article absolute inset-0 flex flex-col justify-end w-full h-full pointer-events-none">
            
            <span class="article-name absolute top-6 right-6 vh-text-sm z-20">Sponsored</span>
            <div class="article-desc relative z-20 p-6">
                <!--default delayBtn: 1000ms-->
                <a href="#" id="btn-lern-more" data-popup="ads-article-1" class="btn btn--ads flex items-center px-6 py-2 justify-between vh-h-btn rounded-full font-inter font-medium" style="--delayBtn: 0ms"> 
                    Learn More
                    <svg class="ml-4" width="23" height="16" viewBox="0 0 23 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 8.99998H18.67L13.79 13.88C13.4 14.27 13.4 14.91 13.79 15.3C14.18 15.69 14.81 15.69 15.2 15.3L21.79 8.70998C21.8827 8.61747 21.9563 8.50758 22.0064 8.3866C22.0566 8.26563 22.0824 8.13595 22.0824 8.00498C22.0824 7.87401 22.0566 7.74433 22.0064 7.62336C21.9563 7.50238 21.8827 7.39249 21.79 7.29998L15.21 0.699979C15.1174 0.607397 15.0075 0.533957 14.8865 0.483852C14.7656 0.433747 14.6359 0.407959 14.505 0.407959C14.3741 0.407959 14.2444 0.433747 14.1235 0.483852C14.0025 0.533957 13.8926 0.607397 13.8 0.699979C13.7074 0.792561 13.634 0.902472 13.5839 1.02344C13.5338 1.1444 13.508 1.27405 13.508 1.40498C13.508 1.53591 13.5338 1.66556 13.5839 1.78652C13.634 1.90749 13.7074 2.0174 13.8 2.10998L18.67 6.99998H1C0.45 6.99998 0 7.44998 0 7.99998C0 8.54998 0.45 8.99998 1 8.99998Z" fill="currentColor"/>
                    </svg> 
                </a>
            </div>
        </article>
    </div>


    <div data-popup-open="ads-article-1" class="ads-popup fixed top-0 left-0 w-full h-full overflow-hidden z-40 bg-white text-black">
        <div class="ads-popup-body relative overflow-y-auto flex flex-col w-full h-full snap-y snap-mandatory scroll-smooth" data-scroller-ads>
           <!-- media.ads.1 -->
        <section data-section-ads="section1" class="section snap-always snap-start w-full h-full flex flex-col shrink-0 transition bg-light-0 text-black dark:bg-dark-0 dark:text-white" data-theme="media3">
            <div class="section-body relative overflow-hidden flex-1 container max-w-full">
                <article class="article relative overflow-hidden flex flex-col h-full px-6">
                    <div class="article-header flex justify-between items-center animate animate--fadeInUp pt-6 mb-6 vh-text-sm" style="--delay: 0ms">
                        <span class="ads-popup-name flex-1">Sponsored</span> 
                        <a class="ads-popup-skip flex items-center" href="#" data-popup-close="ads-article-1">Skip  
                            <svg class="inline-block" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.5 18C17.2167 18 16.9793 17.904 16.788 17.712C16.596 17.5207 16.5 17.2833 16.5 17V7C16.5 6.71667 16.596 6.479 16.788 6.287C16.9793 6.09567 17.2167 6 17.5 6C17.7833 6 18.0207 6.09567 18.212 6.287C18.404 6.479 18.5 6.71667 18.5 7V17C18.5 17.2833 18.404 17.5207 18.212 17.712C18.0207 17.904 17.7833 18 17.5 18ZM7.05 16.975C6.71667 17.2083 6.375 17.225 6.025 17.025C5.675 16.825 5.5 16.525 5.5 16.125V7.875C5.5 7.475 5.675 7.179 6.025 6.987C6.375 6.79567 6.71667 6.80833 7.05 7.025L13.25 11.175C13.55 11.375 13.7 11.65 13.7 12C13.7 12.35 13.55 12.625 13.25 12.825L7.05 16.975Z" fill="currentColor"/>
                            </svg>
                        </a>
                    </div> 
                    <div class="article-main relative flex-1">
                        <div class="article-asset relative mb-6 animate animate--fadeInUp" style="--delay: 100ms">
                            <!-- <figure class="article-asset w-full vh-h-landscape aspect-375 bg-cover rounded-xl bg-no-repeat bg-center overflow-hidden" style="background-image: url('assets/images/ads/watch_1.png');"></figure> -->
                            <figure class="article-asset w-full vh-h-landscape aspect-375 bg-cover rounded-xl bg-no-repeat bg-center overflow-hidden">
                                <img class="w-full h-full object-cover" src="[%dfp_feed_1_image%]">
                            </figure>
                        </div>
                        <div class="article-desc relative mb-6 z-20">
                            <h1 class="article-title vh-text-lg font-semibold mb-6 pr-12  animate animate--fadeInUp" style="--delay: 200ms">
                                [%dfp_brand_name%]
                            </h1>
                            <div class="article-desc-body relative pl-16">
                                <span class="absolute top-3 left-0 w-12 border-t border-current animate animate--fadeInUp" style="--delay: 300ms"></span>
                                <div class="article-paragraph font-primary-2 animate animate--fadeInUp" style="--delay: 400ms">
                                    <p>[%dfp_feed_1_text%]</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="article-footer flex justify-center items-center absolute bottom-0 inset-x-6 py-6">
                        <span class="article-swipeup font-primary-2 vh-text-md animate-swipe animate-swipe-up"><svg class="transform rotate-180 inline-block -mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor">
                            <path d="m12 15.586-4.293-4.293-1.414 1.414L12 18.414l5.707-5.707-1.414-1.414z"></path><path d="m17.707 7.707-1.414-1.414L12 10.586 7.707 6.293 6.293 7.707 12 13.414z"></path>
                        </svg> SWIPE UP</span>
                    </div>
                </article>
            </div>
        </section>

        <!-- media.ads.2 -->
        <section data-section-ads="section2" class="section snap-always snap-start w-full h-full flex flex-col shrink-0 transition bg-light-0 text-black dark:bg-dark-0 dark:text-white" data-theme="media3">
            <div class="section-body relative overflow-hidden flex-1 container max-w-full">
                <article class="article relative overflow-hidden flex flex-col h-full px-6">
                    <div class="article-header flex justify-between items-center animate animate--fadeInUp pt-6 mb-6 vh-text-sm" style="--delay: 0ms">
                        <span class="ads-popup-name flex-1">Sponsored</span> 
                        <a class="ads-popup-skip flex items-center" href="#" data-popup-close="ads-article-1">Skip 
                            <svg class="inline-block" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.5 18C17.2167 18 16.9793 17.904 16.788 17.712C16.596 17.5207 16.5 17.2833 16.5 17V7C16.5 6.71667 16.596 6.479 16.788 6.287C16.9793 6.09567 17.2167 6 17.5 6C17.7833 6 18.0207 6.09567 18.212 6.287C18.404 6.479 18.5 6.71667 18.5 7V17C18.5 17.2833 18.404 17.5207 18.212 17.712C18.0207 17.904 17.7833 18 17.5 18ZM7.05 16.975C6.71667 17.2083 6.375 17.225 6.025 17.025C5.675 16.825 5.5 16.525 5.5 16.125V7.875C5.5 7.475 5.675 7.179 6.025 6.987C6.375 6.79567 6.71667 6.80833 7.05 7.025L13.25 11.175C13.55 11.375 13.7 11.65 13.7 12C13.7 12.35 13.55 12.625 13.25 12.825L7.05 16.975Z" fill="currentColor"/>
                            </svg>
                        </a>
                    </div> 
                    <div class="article-main relative flex-1">
                        <div class="article-desc relative mb-6 z-20">
                            <h1 class="article-title vh-text-lg font-semibold mb-6 pr-12  animate animate--fadeInUp" style="--delay: 200ms">[%dfp_brand_name%]</h1>                                           
                            <div class="article-desc-body relative pl-16">
                                <span class="absolute top-3 left-0 w-12 border-t border-current animate animate--fadeInUp" style="--delay: 200ms"></span>
                                <div class="article-paragraph font-primary-2 animate animate--fadeInUp" style="--delay: 300ms">
                                    <p>[%dfp_feed_2_text%]</p>
                                </div>
                            </div>
                        </div>
                        <div class="article-asset relative animate animate--fadeInUp" style="--delay: 400ms">
                            <!-- <figure class="article-asset w-full vh-h-landscape aspect-375 bg-cover rounded-xl bg-no-repeat bg-center overflow-hidden" style="background-image: url('assets/images/ads/watch_2.png');"></figure> -->
                            <figure class="article-asset w-full vh-h-landscape aspect-375 bg-cover rounded-xl bg-no-repeat bg-center overflow-hidden">
                                <img class="w-full h-full object-cover" src="[%dfp_feed_2_image%]">
                            </figure>
                        </div>
                    </div>
                    <div class="footer-swipe-up article-footer flex justify-center items-center absolute bottom-0 inset-x-6 py-6">
                        <span class="article-swipeup font-primary-2 vh-text-md animate-swipe animate-swipe-up"><svg class="transform rotate-180 inline-block -mt-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor">
                            <path d="m12 15.586-4.293-4.293-1.414 1.414L12 18.414l5.707-5.707-1.414-1.414z"></path><path d="m17.707 7.707-1.414-1.414L12 10.586 7.707 6.293 6.293 7.707 12 13.414z"></path>
                        </svg> SWIPE UP</span>
                    </div>

                    <div class="footer-landingpage article-footer absolute bottom-0 inset-x-6 py-6">
                        <a href="[%dfp_landing_page%]" target="_blank" class="btn btn--ads-visit vh-text-xs flex items-center px-4 py-2 justify-between vh-h-btn rounded-lg font-inter font-medium bg-dark-0 text-white dark:bg-light-0 dark:text-black"> 
                            <span class="font-medium">Visit Website <span class="block font-normal">[%dfp_landing_page_text%]</span></span>
                            <svg class="ml-4" width="23" height="16" viewBox="0 0 23 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M1 8.99998H18.67L13.79 13.88C13.4 14.27 13.4 14.91 13.79 15.3C14.18 15.69 14.81 15.69 15.2 15.3L21.79 8.70998C21.8827 8.61747 21.9563 8.50758 22.0064 8.3866C22.0566 8.26563 22.0824 8.13595 22.0824 8.00498C22.0824 7.87401 22.0566 7.74433 22.0064 7.62336C21.9563 7.50238 21.8827 7.39249 21.79 7.29998L15.21 0.699979C15.1174 0.607397 15.0075 0.533957 14.8865 0.483852C14.7656 0.433747 14.6359 0.407959 14.505 0.407959C14.3741 0.407959 14.2444 0.433747 14.1235 0.483852C14.0025 0.533957 13.8926 0.607397 13.8 0.699979C13.7074 0.792561 13.634 0.902472 13.5839 1.02344C13.5338 1.1444 13.508 1.27405 13.508 1.40498C13.508 1.53591 13.5338 1.66556 13.5839 1.78652C13.634 1.90749 13.7074 2.0174 13.8 2.10998L18.67 6.99998H1C0.45 6.99998 0 7.44998 0 7.99998C0 8.54998 0.45 8.99998 1 8.99998Z" fill="currentColor"/>
                            </svg> 
                        </a>
                    </div>
                </article>
            </div>
        </section>

        <!-- media.ads.3 -->
        <section data-section-ads="section3" class="section snap-always snap-start w-full h-full flex flex-col shrink-0 transition bg-light-0 text-black dark:bg-dark-0 dark:text-white" data-theme="media3">
            <div class="section-body relative overflow-hidden flex-1 container max-w-full">
                <article class="article relative overflow-hidden flex flex-col h-full px-6">
                    <div class="article-header flex justify-between items-center animate animate--fadeInUp pt-6 mb-6 vh-text-sm" style="--delay: 0ms">
                        <span class="ads-popup-name flex-1">Sponsored</span> 
                        <a class="ads-popup-skip flex items-center" href="#" data-popup-close="ads-article-1">Skip 
                            <svg class="inline-block" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.5 18C17.2167 18 16.9793 17.904 16.788 17.712C16.596 17.5207 16.5 17.2833 16.5 17V7C16.5 6.71667 16.596 6.479 16.788 6.287C16.9793 6.09567 17.2167 6 17.5 6C17.7833 6 18.0207 6.09567 18.212 6.287C18.404 6.479 18.5 6.71667 18.5 7V17C18.5 17.2833 18.404 17.5207 18.212 17.712C18.0207 17.904 17.7833 18 17.5 18ZM7.05 16.975C6.71667 17.2083 6.375 17.225 6.025 17.025C5.675 16.825 5.5 16.525 5.5 16.125V7.875C5.5 7.475 5.675 7.179 6.025 6.987C6.375 6.79567 6.71667 6.80833 7.05 7.025L13.25 11.175C13.55 11.375 13.7 11.65 13.7 12C13.7 12.35 13.55 12.625 13.25 12.825L7.05 16.975Z" fill="currentColor"/>
                            </svg>
                        </a>
                    </div> 
                    <div class="article-main relative flex-1">
                        <div class="article-desc relative mb-6 z-20">
                            <h1 class="article-title vh-text-lg font-semibold mb-6 pr-12  animate animate--fadeInUp" style="--delay: 200ms">[%dfp_brand_name%]</h1>
                            <div class="article-asset relative animate animate--fadeInUp mb-6" style="--delay: 400ms">
                                <!-- <figure class="article-asset w-full vh-h-landscape aspect-375 bg-cover rounded-xl bg-no-repeat bg-center overflow-hidden" style="background-image: url('assets/images/ads/watch_3.png');"></figure> -->
                                <figure class="article-asset w-full vh-h-landscape aspect-375 bg-cover rounded-xl bg-no-repeat bg-center overflow-hidden">
                                    <img class="w-full h-full object-cover" src="[%dfp_feed_3_image%]">
                                </figure>
                            </div>
                            <div class="article-paragraph font-primary-2 animate animate--fadeInUp" style="--delay: 500ms">
                                <p>[%dfp_feed_3_text%]</p>
                            </div>
                        </div>
                    </div>
                    <div class="landingpage article-footer absolute bottom-0 inset-x-6 py-6">
                        <a href="[%dfp_landing_page%]" target="_blank" class="btn btn--ads-visit vh-text-xs flex items-center px-4 py-2 justify-between vh-h-btn rounded-lg font-inter font-medium bg-dark-0 text-white dark:bg-light-0 dark:text-black"> 
                            <span class="font-medium">Visit Website <span class="block font-normal">[%dfp_landing_page_text%]</span></span>
                            <svg class="ml-4" width="23" height="16" viewBox="0 0 23 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M1 8.99998H18.67L13.79 13.88C13.4 14.27 13.4 14.91 13.79 15.3C14.18 15.69 14.81 15.69 15.2 15.3L21.79 8.70998C21.8827 8.61747 21.9563 8.50758 22.0064 8.3866C22.0566 8.26563 22.0824 8.13595 22.0824 8.00498C22.0824 7.87401 22.0566 7.74433 22.0064 7.62336C21.9563 7.50238 21.8827 7.39249 21.79 7.29998L15.21 0.699979C15.1174 0.607397 15.0075 0.533957 14.8865 0.483852C14.7656 0.433747 14.6359 0.407959 14.505 0.407959C14.3741 0.407959 14.2444 0.433747 14.1235 0.483852C14.0025 0.533957 13.8926 0.607397 13.8 0.699979C13.7074 0.792561 13.634 0.902472 13.5839 1.02344C13.5338 1.1444 13.508 1.27405 13.508 1.40498C13.508 1.53591 13.5338 1.66556 13.5839 1.78652C13.634 1.90749 13.7074 2.0174 13.8 2.10998L18.67 6.99998H1C0.45 6.99998 0 7.44998 0 7.99998C0 8.54998 0.45 8.99998 1 8.99998Z" fill="currentColor"/>
                            </svg> 
                        </a>
                    </div>
                </article>
            </div>
        </section>
    </div>
</div>
</section>
</div>

</main>



<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<script>
    var _btnLearMore = document.querySelector("#btn-lern-more")

    console.log("image ads loaded")
    var _adIframe_ = window.frameElement;
    var _parentSection_ = _adIframe_.parentElement.parentElement.parentElement.parentElement;
    var _mainWrapper_ = document.querySelector(".section-body");
    var _parentName_ = _parentSection_.querySelector(".article-name");

    var _feedArticles_ = document.querySelector(".ads-popup").querySelectorAll("section");
    var _feedNumber_ = [%dfp_feed_article%];

    if(_feedNumber_ == 2){
        //remove last feed
        _feedArticles_[2].remove();
        // section 2 remove swipe up
        _feedArticles_[1].querySelector(".footer-swipe-up").remove();
    }else{
        _feedArticles_[1].querySelector(".footer-landingpage").remove();
    }

    _adIframe_.style.width = "100vw";
    _adIframe_.style.height = window.frameElement.parentElement.parentElement.parentElement.clientHeight + "px";
    
    _parentSection_.setAttribute("data-section", "RMB-Video-Ver"); 
    
    // remove parent text sponsore
    var _searchTextSponsored = setInterval(() => {
        if(_parentName_){
            _parentName_.remove();
            clearInterval(_searchTextSponsored)
        }
    }, 100);

    

    const popupAds = document.querySelectorAll('[data-popup]');
const scrollRootAds = document.querySelectorAll('[data-scroller-ads]');
const sectionsAds = document.querySelectorAll("[data-section-ads]");

//popup-ads 
let optionsAds = [];
let ia = [];
for (var i = 0; i < scrollRootAds.length; i++) {
    optionsAds[i] = {
        root: scrollRootAds[i],
        rootMargin: "0px",
        threshold: 0.6,
    };
    ia[i] = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.intersectionRatio > 0.6) {
                entry.target.classList.add("is-visible");
            } else {
                entry.target.classList.remove("is-visible");
            }
        });
    }, optionsAds[i]);

    for (var a = 0; a < sectionsAds.length; a++) {
        ia[i].observe(sectionsAds[a]);
    }
}

for (var i = 0; i < popupAds.length; i++) {
    popupAds[i].addEventListener('click', function(e) {
        const target = this.getAttribute('data-popup')
        document.querySelector('[data-scroller]').style.overflow = 'hidden';
        document.querySelector('[data-popup-open='+target+']').classList.add('open');  
        document.querySelector('[data-popup-open='+target+'] [data-section-ads]:first-child').scrollIntoView();
        document.querySelector('[data-popup-open='+target+'] [data-section-ads]:first-child').classList.add('is-visible');  
    });
}
const popupAdsClose = document.querySelectorAll('[data-popup-close]');
for (var i = 0; i < popupAdsClose.length; i++) {
    popupAdsClose[i].addEventListener('click', function(e) {
        const target = this.getAttribute('data-popup-close');
        document.querySelector('[data-scroller]').style.overflow = '';
        document.querySelector('[data-popup-open='+target+']').classList.remove('open');
        document.querySelector('[data-popup-open='+target+'] [data-section-ads]:first-child').scrollIntoView();
        document.querySelector('[data-popup-open='+target+'] [data-section-ads].is-visible').classList.remove('is-visible');  

        // const skipSection = this.closest('[data-section]').getAttribute('data-section')
        // const skipSectionSplit = skipSection.substr(7);

        // sections[skipSectionSplit].scrollIntoView();
    });
}

_btnLearMore.addEventListener('click', createClickTracker)

function createClickTracker() {
    var _img = document.createElement("img")
    _img.setAttribute("style", "display:none;width: 1px; height: 1px;")
    _img.setAttribute("data-desc", "gam click tracker as click more tracker ")
    _img.setAttribute("src", "%%CLICK_URL_UNESC%%https://cdns.klimg.com/d.kapanlaginetwork.com/banner/asset/img/pixel.png");
    document.querySelector("body").appendChild(_img)
}

</script>
